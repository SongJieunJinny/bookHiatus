<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
			"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bookGap.mapper.complainMapper"> 
  <!-- 특정 유저가 특정 댓글을 신고한 기록이 몇 개인지 조회/0이면 신고한 적 없음, 1 이상이면 이미 신고 -->
  <select id="countComplain" parameterType="com.bookGap.vo.ComplainVO" resultType="int">
	  SELECT COUNT(*)
	    FROM COMPLAIN
	   WHERE COMMENT_NO = #{commentNo}
	     AND USER_ID = #{userId}
  </select>

  <insert id="insertComplain" parameterType="com.bookGap.vo.ComplainVO">
	  INSERT INTO COMPLAIN (
	    COMMENT_NO,
	    USER_ID,
	    COMPLAIN_TYPE
	  ) VALUES (
	    #{commentNo},
	    #{userId},
	    #{complainType}
	  )
  </insert>
</mapper>